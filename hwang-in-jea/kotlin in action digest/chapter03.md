# Kotlin in Action 요약

## 3. Chapter03

* 함수의 정의와 메서드 라고 하는 개념은 상당히 추상적입니다.
* 본 책에서는 그 탐구 범위를 컬렉션, 문자열, 정규식(regular expression)에 한정해서 설명하고 있습니다.

### 3.1 코틀린 함수의 특징

* 코틀린 파일(*.kt)에서 클래스 멤버가 아닌 최상위 함수와 프로퍼티(전역변수)를 직접 선언할 수 있습니다.
* 함수를 변수에 할당이 가능하며, 구현부만 정의하여 다른 함수의 매개변수로 전달도 가능합니다.
  * cf. Java는 함수 자체가 일급 객체(First-class)가 될 수 없기에, 익명 클래스나 람다 표현식을 사용합니다.
* **확장 함수**를 사용하면 모든 클래스의 API 소스코드를 바꿀 필요 없이 필요한 부분을 확장 시킬 수 있습니다.

> #### 확장 함수(Extension Function)
> 개념 : 어떤 클래스의 멤버 메소드인 것처럼 호출할 수 있지만 그 클래스 밖에 선언된 함수
> 특징
>  * 클래스 내부에서만 사용할 수 있는 private, protected 멤버를 사용할 수 없음.
>  * 확장 함수를 사용하기 위해서는 그 함수를 다른 클래스나 함수와 마찬가지로 임포트를 해야합니다.
>  * 확장 함수는 오버라이드 할 수 없습니다.
>     * 확장 함수를 호출할 때 수신 객체로 지정한 변수의 정적 타입에 의해 어떤 확장 함수가 호출될지 결정되지, 그 변수에 저장된 객체의 동적인 타입에 의해 함수가 결정되지 않습니다.
>     * 어떤 클래스를 확장함수와 그 클래스 멤버 함수의 이름과 시그니처가 같다면, 확장 함수가 아니라 멤버 함수가 호출된다(멤버 함수의 우선순위가 더 높음)
> 수신 객체 타입 : 그 함수가 확장할 클래스의 타입
> 수신 객체 : 확장 함수가 호출되는 대상이 되는 값(객체)

```kotlin
fun String.lastChar() : Char = this.get(this.length - 1)
```

### 3.2 컬렉션
* 코틀린 컬렉션은 자바 컬렉션과 똑같습니다.
* 자바에서 코틀린 함수를 호출하거나 코틀린에서 자바 함수를 호출 할 때 자바와 코틀린 컬렉션을 서로 변환할 필요가 없습니다.
* 다만 자바 컬렉션 API에서 다양한 확장된 기능을 제공합니다.
    * list생성에 대한 팩토리 메서드 제공
    ```kotlin
    val strings = listOf("first", "second", "fourteenth")

    ```
    
    * 가변 인자 함수 : 스프레드 연산자
      * 코틀린에서 가변 인자를 ```vararg``` 로 표현한다.
    ```kotlin

    fun listOf<T>(vararg values: T) : List<T> {
      // ...
    }

    //
    fun main(args: Array<String>) {
        val list = listOf("args : ", *args)
    }
    ```


### 3.3 문자열
* 코틀린은 정규식과 일반 문자열을 처리할 때 유용한 다양한 무자열 처리 함수를 제공한다.
* 자바 문자열로 표현하려면 수많은 이스케이프가 필요한 문자열의 경우 3중 따옴표로 처리하면 더 깔끔하게 표현이 가능하다.
